###Chap. 0 Introduction###

Node.js，CoffeeScript 对 JavaScript 的流行起了推波助澜的作用，Coffee 和老道所推崇的方式不谋而合。在老道的倡议下 ES5 推出了（实际上我敲这个的时候 ES6 正火），ES5 标准化了 JSON，支持 strict 模式 等。我见到了男神老道，结婚了，blablabla

本书并非面对没有基础的人，也不是关于 Ajax 或 Web 的，本书仅仅 focus 在 JavaScript 这一门语言上。知识点密集，慢慢翻吧。本书的目的是帮助你的工作，因此少量使用本书的代码无需经过许可。

我在打基础的时候希望用遍语言的所有特性，感觉很吊。但我有了基础之后，发现并不是所有的特性都很吊：

* 标准问题导致的可移植性问题

* 可读性问题

* 奇技淫巧导致的错误

* 语言本身设计错误
    
尤其是 JavaScript 中还很多的垃圾：快速被应用，从未被斟酌，趁着 Applet 的失败没有选择的上位。（@C++）具体比如 JavaScript 中的一些关键思想：使用全局量作为组织程序的基础等，具体在附录 A 和 B 中，如果你想深入学习这些翔，并且想学如何吃翔，那么翔见标准。浏览器 API 和 DOM 也坑了 JavaScript。

JavaScript 中也有很多的 pearl，美丽的，优雅的，富有表现力的东西，被深深的隐藏在各种坑底下。实际上 JavaScript 是一门杰出的动态编程语言，拥有极强的表达能力（尤其是你知道要做什么时），比较好的 idea 比如一等公民函数，词法作用域（如同 C 下的 LISP），对象定义法（JSON），弱类型、原型继承等。
    
JavaScript 是世界上最被误解的语言，早期的商业原因，规范欠缺，C+V 式滥用blablabla。Crockford 从混乱的 JavaScript 世界中提取出了精华部分。解决方案，也就是本书的中心：取其精华，去其糟粕。语言中的许多部分我们并不提，我们只讨论其中的一个更可靠、易读、易于维护的子集，专注于精华部分，偶尔给出糟粕警告，实用，简练，还环保。本书做的并不完全彻底，走极端只会带来风险和苦恼。一部分观点为作者本人主观观点，酌情采用。

JavaScript 是弱类型的语言。现在大多数编程语言是强类型的，能在编译时检查错误，但是作者认为强类型并不能简化工作，还会带来一些其他问题，弱类型更加自由。JavaScript 的对象系统是 class-free 的，对于习惯于 class 模式的人来说直接应用原来的东西会很蛋疼，这需要更熟悉 JavaScript 的 prototype 系统。

---

精华部分的语法简介，比全部语法要简单。（表示形式：铁路图）

注释：JavaScript 提供类 C 的行注释和块注释。C 块注释本来来源于 PL/I，一般不会出现在 C 程序其他部分中，但是却可能在 JavaScript 正则里面客串一下。因此建议使用行注释。

注释应该用来提高程序可读性，并且要精确描述程序。

标识符：字母开头，字母+数字+下划线（可以以 dollar 和 下划线开头但不提倡）。

有一大长串的保留字列表，但是这个列表比语言的关键词列表要长很多。不能用于标识符和属性名称（可以用方括号形式引用），但是并不包含 undefined, NaN, Infinity。

数字：只有一种数字类型：double（@Lua），没有专门整型，避免了短整型溢出问题等一系列问题。滋瓷科学记数法。

NaN 即 IEEE 754 NaN，不等于任何值（包括自身），判断方式：isNaN。Infinity：巨大的数。

操作方式：Math 模块（对象）如 Math.floor。

字符串：单引号或双引号，所有字符都是 16 位的（65536，Unicode level 0，再高的就被当作两个字符），没有字符类型。滋瓷 \\ 转义，\u 用于指定编码字符。可以用 length 属性获取长度，+ 连接字符串，字符串相等判断需要满足字符和字符顺序均相同，还有一些方法比如 toUpperCase()。字符串创建后不可变，+ 等操作仅仅是构造了新的字符串。

字面量：对象字面量({ })、数组字面量([ ])和正则表达式(/ .* /)。其中对象字面量的键（属性名）也被当作字面量（而非固定字符串符号）。

函数：函数的名字是且仅是用来递归调用自己的（当然可选）。

语句：

滋瓷的基本部件：if，多条件 if，switch，case，while，for，for in，do，try ... catch，throw。

允许在 switch，while，for，do 加入一个前置标签 label，允许了 break 语句的多层退出。

switch 依然需要加 break，但是 case 不一定是常量。

try 无法指定捕获的异常类型（只能捕获所有异常），throw 抛出指定的异常对象。


函数默认返回值为 undefined。由于某些原因，不要在 return/break 和返回值/标签名间换行。

表达式：

布尔规则：false，null，undefined，NaN，0 和空串都为假，其他都为真。

= 赋值 === 恒等

JavaScript 的基础数据类型：数字、字符串、bool、null、undefined、对象。数组、函数、正则在对象范围内。数字、字符串、bool 可以有方法，但是并非对象，因为 immutable。

typeof 运算符会将类型输出为字符串：number、string、boolean、undefined、function、object。但是 null 和数组全部都是 'object'。